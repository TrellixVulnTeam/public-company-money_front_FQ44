{"ast":null,"code":"var _jsxFileName = \"/Users/sm/Desktop/\\u1100\\u1162\\u110B\\u1175\\u11AB/02.\\u1109\\u1161\\u110B\\u1175\\u1103\\u1173\\u1111\\u1173\\u1105\\u1169\\u110C\\u1166\\u11A8\\u1110\\u1173/01.company_money/pjt/frontend/src/components/rank/ranking/tab/FirstRank.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { axiosInstance } from '../../../../api';\nimport { Col, Row, Badge, Descriptions, Tag } from 'antd';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst FirstRank = ({\n  uniq_num\n}) => {\n  _s();\n\n  const firstRankUrl = `/api/first_rank/${uniq_num}`;\n  const [rank, setRank] = useState({});\n  const [rankInfo, setRankInfo] = useState({}); // 기준 선택 상태\n\n  const [companyInfo, setCompanyInfo] = useState(\"전체\");\n  const [companyNumber, setCompanyNumber] = useState(0);\n  const [all, setAll] = useState(\"processing\");\n  const [location, setLocation] = useState(\"default\");\n  const [superCompany, setSuperCompany] = useState(\"default\");\n  const [category, setCategory] = useState(\"default\");\n  useEffect(() => {\n    axiosInstance.get(firstRankUrl).then(response => {\n      const {\n        data\n      } = response;\n      setRank({\n        \"all\": data.all,\n        \"location\": data.location,\n        \"authority\": data.authority,\n        'type': data.type\n      });\n      setRankInfo(data.all);\n      setCompanyNumber(data.all.company_number);\n    });\n  }, [firstRankUrl]);\n\n  const changeAll = () => {\n    if (all === \"default\") {\n      setAll(\"processing\");\n      setLocation(\"default\");\n      setSuperCompany(\"default\");\n      setCategory(\"default\");\n      setRankInfo(rank.all);\n      setCompanyInfo(rank.all.company_info);\n      setCompanyNumber(rank.all.company_number);\n    }\n  };\n\n  const changeLocation = () => {\n    if (location === \"default\") {\n      setAll(\"default\");\n      setLocation(\"processing\");\n      setSuperCompany(\"default\");\n      setCategory(\"default\");\n      setRankInfo(rank.location);\n      setCompanyInfo(rank.location.company_info);\n      setCompanyNumber(rank.location.company_number);\n    }\n  };\n\n  const changeSuperCompany = () => {\n    if (superCompany === \"default\") {\n      setAll(\"default\");\n      setLocation(\"default\");\n      setSuperCompany(\"processing\");\n      setCategory(\"default\");\n      setRankInfo(rank.authority);\n      setCompanyInfo(rank.authority.company_info);\n      setCompanyNumber(rank.authority.company_number);\n    }\n  };\n\n  const changeCategory = () => {\n    if (category === \"default\") {\n      setAll(\"default\");\n      setLocation(\"default\");\n      setSuperCompany(\"default\");\n      setCategory(\"processing\");\n      setRankInfo(rank.type);\n      setCompanyInfo(rank.type.company_info);\n      setCompanyNumber(rank.type.company_number);\n    }\n  };\n\n  function moneyToUnit(money) {\n    return money.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        span: 24,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"choice\",\n          children: [/*#__PURE__*/_jsxDEV(Badge, {\n            status: all,\n            onClick: changeAll,\n            text: \"\\uC804\\uCCB4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Badge, {\n            status: location,\n            onClick: changeLocation,\n            text: \"\\uC18C\\uC7AC\\uC9C0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Badge, {\n            status: superCompany,\n            onClick: changeSuperCompany,\n            text: \"\\uC8FC\\uBB34\\uBD80\\uCC98\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Badge, {\n            status: category,\n            onClick: changeCategory,\n            text: \"\\uAE30\\uAD00\\uC720\\uD615\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        className: \"ranking\",\n        span: 24,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"rank_wrapper\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: rankInfo && rankInfo.rank\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 21\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\uB4F1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 62\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tag_wrapper\",\n          children: [/*#__PURE__*/_jsxDEV(Tag, {\n            color: \"#108ee9\",\n            children: companyInfo\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Tag, {\n            color: \"#2db7f5\",\n            children: [companyNumber, \"\\uAC1C\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Tag, {\n            color: \"#87d068\",\n            children: [\"\\uC0C1\\uC704 \", Math.round(rankInfo.rank / companyNumber * 100), \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        className: \"money_summary\",\n        xs: {\n          span: 24\n        },\n        sm: {\n          span: 14,\n          offset: 5\n        },\n        children: /*#__PURE__*/_jsxDEV(Descriptions, {\n          bordered: true,\n          layout: \"vertical\",\n          column: {\n            xxl: 8,\n            xl: 4,\n            lg: 4,\n            md: 4,\n            sm: 4,\n            xs: 4\n          },\n          children: [/*#__PURE__*/_jsxDEV(Descriptions.Item, {\n            label: \"\\uCD5C\\uACE0\",\n            column: {\n              xxl: 12,\n              xl: 2\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"money_section\",\n              children: rankInfo.top && moneyToUnit(rankInfo.top.money)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"company_section\",\n              children: rankInfo.top && rankInfo.top.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Descriptions.Item, {\n            label: \"\\uCD5C\\uC800\",\n            column: {\n              xxl: 12,\n              xl: 2\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"money_section\",\n              children: rankInfo.bottom && moneyToUnit(rankInfo.bottom.money)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"company_section\",\n              children: [\"(\", rankInfo.bottom && rankInfo.bottom.name, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Descriptions.Item, {\n            label: \"\\uC911\\uC704\\uAC12\",\n            scolumn: {\n              xxl: 12,\n              xl: 2\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"money_section\",\n              children: rankInfo.center && moneyToUnit(rankInfo.center.money)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"company_section\",\n              children: [\"(\", rankInfo.center && rankInfo.center.name, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Descriptions.Item, {\n            label: \"\\uD3C9\\uADE0\",\n            column: {\n              xxl: 12,\n              xl: 2\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"money_section\",\n              children: rankInfo.middle && moneyToUnit(rankInfo.middle.money)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n\n_s(FirstRank, \"C4gDOUR6ptpIzM3VP1lj3ffrpl4=\");\n\n_c = FirstRank;\nexport default FirstRank;\n\nvar _c;\n\n$RefreshReg$(_c, \"FirstRank\");","map":{"version":3,"sources":["/Users/sm/Desktop/개인/02.사이드프로젝트/01.company_money/pjt/frontend/src/components/rank/ranking/tab/FirstRank.js"],"names":["React","useState","useEffect","axiosInstance","Col","Row","Badge","Descriptions","Tag","FirstRank","uniq_num","firstRankUrl","rank","setRank","rankInfo","setRankInfo","companyInfo","setCompanyInfo","companyNumber","setCompanyNumber","all","setAll","location","setLocation","superCompany","setSuperCompany","category","setCategory","get","then","response","data","authority","type","company_number","changeAll","company_info","changeLocation","changeSuperCompany","changeCategory","moneyToUnit","money","toString","replace","Math","round","span","offset","xxl","xl","lg","md","sm","xs","top","name","bottom","center","middle"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { axiosInstance } from '../../../../api';\nimport {Col, Row, Badge, Descriptions, Tag} from 'antd';\n\n\nconst FirstRank = ({uniq_num}) => {\n    const firstRankUrl = `/api/first_rank/${uniq_num}`\n\n    const [rank, setRank] = useState({})\n    const [rankInfo, setRankInfo] = useState({})\n\n    // 기준 선택 상태\n    const [companyInfo, setCompanyInfo] = useState(\"전체\")\n    const [companyNumber, setCompanyNumber] = useState(0)\n    const [all, setAll] = useState(\"processing\")\n    const [location, setLocation] = useState(\"default\")\n    const [superCompany, setSuperCompany] = useState(\"default\")\n    const [category, setCategory] = useState(\"default\")\n    \n    useEffect(() => {\n        axiosInstance.get(firstRankUrl)\n            .then(response => {\n                const {data} = response;\n                setRank({\"all\" : data.all, \"location\" : data.location, \"authority\" : data.authority, 'type' : data.type})\n                setRankInfo(data.all)\n                setCompanyNumber(data.all.company_number)\n\n            })\n    }, [firstRankUrl])\n    \n\n\n\n    const changeAll = () =>{\n        if(all === \"default\"){\n            setAll(\"processing\")\n            setLocation(\"default\")\n            setSuperCompany(\"default\")\n            setCategory(\"default\")\n\n            setRankInfo(rank.all)\n\n            setCompanyInfo(rank.all.company_info)\n            setCompanyNumber(rank.all.company_number)\n        }\n    }\n    const changeLocation = () =>{\n        if(location === \"default\"){\n            setAll(\"default\")\n            setLocation(\"processing\")\n            setSuperCompany(\"default\")\n            setCategory(\"default\")\n\n            setRankInfo(rank.location)\n\n            setCompanyInfo(rank.location.company_info)\n            setCompanyNumber(rank.location.company_number)\n        }\n    }\n    const changeSuperCompany = () =>{\n        if(superCompany === \"default\"){\n            setAll(\"default\")\n            setLocation(\"default\")\n            setSuperCompany(\"processing\")\n            setCategory(\"default\")\n\n            setRankInfo(rank.authority)\n\n            setCompanyInfo(rank.authority.company_info)\n            setCompanyNumber(rank.authority.company_number)\n        }\n    }\n\n    const changeCategory = () =>{\n        if(category === \"default\"){\n            setAll(\"default\")\n            setLocation(\"default\")\n            setSuperCompany(\"default\")\n            setCategory(\"processing\")\n\n            setRankInfo(rank.type)\n\n            setCompanyInfo(rank.type.company_info)\n            setCompanyNumber(rank.type.company_number)\n        }\n    }\n\n    function moneyToUnit(money) {\n        return money.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n    }\n    \n    return (\n        <>\n        <Row>\n            <Col span={24}>\n                <div className=\"choice\">\n                    <Badge status={all} onClick={changeAll} text=\"전체\"/>\n                    <Badge status={location} onClick={changeLocation} text=\"소재지\"/>\n                    <Badge status={superCompany} onClick={changeSuperCompany} text=\"주무부처\"/>\n                    <Badge status={category} onClick={changeCategory} text=\"기관유형\"/>\n                </div>\n            </Col>\n        </Row>\n\n        <Row>\n            <Col className=\"ranking\" span={24}>\n                <div className='rank_wrapper'>\n                    <span>{rankInfo && rankInfo.rank}</span> <span>등</span>\n                </div>\n                <div className='tag_wrapper'>\n                    <Tag color=\"#108ee9\">{companyInfo}</Tag>\n                    <Tag color=\"#2db7f5\">{companyNumber}개</Tag>\n                    <Tag color=\"#87d068\">상위 {Math.round(rankInfo.rank / companyNumber * 100)}%</Tag>\n                </div>\n            </Col>\n\n            <Col  className=\"money_summary\" xs={{span: 24}} sm={{ span: 14, offset: 5 }}>\n                <Descriptions \n                    bordered  \n                    layout=\"vertical\"\n                    column={{ xxl: 8, xl: 4, lg: 4, md: 4, sm: 4, xs: 4 }}\n                >\n                    <Descriptions.Item label=\"최고\" column={{ xxl: 12, xl: 2 }}>\n                        <div className=\"money_section\">{rankInfo.top && moneyToUnit(rankInfo.top.money)}</div>\n                        <div className=\"company_section\">{rankInfo.top && rankInfo.top.name}</div>\n                    </Descriptions.Item>\n                    <Descriptions.Item label=\"최저\" column={{ xxl: 12, xl: 2 }}>\n                        <div className=\"money_section\">{rankInfo.bottom && moneyToUnit(rankInfo.bottom.money)}</div> \n                        <div className=\"company_section\">({rankInfo.bottom && rankInfo.bottom.name})</div>\n                    </Descriptions.Item>\n                    <Descriptions.Item label=\"중위값\" scolumn={{ xxl: 12, xl: 2 }}>\n                        <div className=\"money_section\">{rankInfo.center && moneyToUnit(rankInfo.center.money)}</div>\n                        <div className=\"company_section\">({rankInfo.center && rankInfo.center.name})</div>\n                    </Descriptions.Item>\n                    <Descriptions.Item label=\"평균\" column={{ xxl: 12, xl: 2 }}>\n                        <div className=\"money_section\">{rankInfo.middle && moneyToUnit(rankInfo.middle.money) }</div>\n                    </Descriptions.Item>\n                </Descriptions>\n            </Col>\n\n        </Row>        \n        </>\n    );\n};\n\nexport default FirstRank;"]},"metadata":{},"sourceType":"module"}